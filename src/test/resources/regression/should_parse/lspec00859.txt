(aaa_translation_unit (batch_statements (statements (sql_statements (miscellaneous_statements (waitfor_statement WAITFOR (wait_stat ( (wait_for_sub_stat (receive_statement RECEIVE (common_top_clause TOP ( (expression (atoms 1)) )) (receive_col_list (receive_col (expression (keyw_id_part (func_keyw_id message_type_name)))) , (receive_col (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id COALESCE))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (paren_sub_query ( (sub_query (select_statement (query_expression (query_specification SELECT (top_clause TOP (top_expression ( (expression (atoms 1)) ))) (select_list (select_element (expression (keyw_id_part (func_keyw_id ConversationState))))) (from_clause FROM (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id CurrentConversations))) (as_clause AS (func_keyw_id cc)))))))) (where_clause WHERE (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id cc))) . (expression (expression (keyw_id_part (func_keyw_id ConversationHandle))) = (expression (keyw_id_part (func_keyw_id conversation_handle)))))))))))) )))) , (param_list_el (expression (atoms 'NEW'))))) ))))) AS (func_keyw_id ConversationState)) , (receive_col (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id COALESCE))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (paren_sub_query ( (sub_query (select_statement (query_expression (query_specification SELECT (top_clause TOP (top_expression ( (expression (atoms 1)) ))) (select_list (select_element (expression (keyw_id_part (func_keyw_id ErrorCount))))) (from_clause FROM (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id CurrentConversations))) (as_clause AS (func_keyw_id cc)))))))) (where_clause WHERE (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id cc))) . (expression (expression (keyw_id_part (func_keyw_id ConversationHandle))) = (expression (keyw_id_part (func_keyw_id conversation_handle)))))))))))) )))) , (param_list_el (expression (atoms 0))))) ))))) AS (func_keyw_id ConversationErrors)) , (receive_col (expression (case_expression CASE (case_boolean_when_clause WHEN (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id message_type_name))) = (expression (atoms N'//Adventure-Works.com/Expenses/SubmitExpense'))))) THEN (expression (expression (functions_and_vars (function CAST ( (expression (keyw_id_part (func_keyw_id message_body))) AS (data_type (data_type_el (keyw_id (keyw_id_part (func_keyw_id (keywords XML)))))) )))) . (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id (keywords value)))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (atoms 'declare namespace rpt = "http://Adventure-Works.com/schemas/expenseReport"\r\n\t\t\t   (/rpt:ExpenseReport/rpt:EmployeeID)[1]'))) , (param_list_el (expression (atoms 'nvarchar(20)'))))) ))))))) (case_else ELSE (expression (atoms NULL))) END)) AS (func_keyw_id EmployeeID)) , (receive_col (expression (case_expression CASE (case_boolean_when_clause WHEN (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id message_type_name))) = (expression (atoms N'//Adventure-Works.com/Expenses/SubmitExpense'))))) THEN (expression (expression (functions_and_vars (function CAST ( (expression (keyw_id_part (func_keyw_id message_body))) AS (data_type (data_type_el (keyw_id (keyw_id_part (func_keyw_id (keywords XML)))))) )))) . (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id (keywords query)))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (atoms 'declare namespace rpt = "http://Adventure-Works.com/schemas/expenseReport" \r\n\t\t\t\t     /rpt:ExpenseReport/rpt:ItemDetail'))))) ))))))) (case_else ELSE (expression (atoms NULL))) END)) AS (func_keyw_id ItemList))) (receive_from FROM (keyw_id (keyw_id_part (func_keyw_id ExpenseQueue)))))) ) , TIMEOUT 60000) ;))))) <EOF>)