(aaa_translation_unit (batch_statements (statements (sql_statements (with_common_table WITH (common_table_expression_list (common_table_expression (func_keyw_id [BOM_cte]) (cte_col_list ( (column_name (keyw_id (keyw_id_part (func_keyw_id [ProductAssemblyID])))) , (column_name (keyw_id (keyw_id_part (func_keyw_id [ComponentID])))) , (column_name (keyw_id (keyw_id_part (func_keyw_id [ComponentDesc])))) , (column_name (keyw_id (keyw_id_part (func_keyw_id [PerAssemblyQty])))) , (column_name (keyw_id (keyw_id_part (func_keyw_id [StandardCost])))) , (column_name (keyw_id (keyw_id_part (func_keyw_id [ListPrice])))) , (column_name (keyw_id (keyw_id_part (func_keyw_id [BOMLevel])))) , (column_name (keyw_id (keyw_id_part (func_keyw_id [RecursionLevel])))) )) AS ( (cte_query_definition (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (keyw_id_part (func_keyw_id [ProductAssemblyID]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (keyw_id_part (func_keyw_id [ComponentID]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id p))) . (expression (keyw_id_part (func_keyw_id [Name]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (keyw_id_part (func_keyw_id [PerAssemblyQty]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id p))) . (expression (keyw_id_part (func_keyw_id [StandardCost]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id p))) . (expression (keyw_id_part (func_keyw_id [ListPrice]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (keyw_id_part (func_keyw_id [BOMLevel]))))) , (select_element (expression (atoms 0)))) (from_clause FROM (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id [Production])) . (keyw_id_part (func_keyw_id [BillOfMaterials]))) (as_clause (func_keyw_id b)))) (join_type_prefix INNER) JOIN (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id [Production])) . (keyw_id_part (func_keyw_id [Product]))) (as_clause (func_keyw_id p))))) (on_join ON (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (expression (keyw_id_part (func_keyw_id [ComponentID]))) = (expression (expression (keyw_id_part (func_keyw_id p))) . (expression (keyw_id_part (func_keyw_id [ProductID]))))))))))))) (where_clause WHERE (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (expression (expression (keyw_id_part (func_keyw_id [ProductAssemblyID]))) = (expression (keyw_id_part (func_keyw_id @StartProductID)))) AND (expression (expression (keyw_id_part (func_keyw_id @CheckDate))) >= (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (expression (keyw_id_part (func_keyw_id [StartDate]))) AND (expression (expression (keyw_id_part (func_keyw_id @CheckDate))) <= (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id ISNULL))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (keyw_id_part (func_keyw_id [EndDate]))))) , (param_list_el (expression (keyw_id_part (func_keyw_id @CheckDate)))))) ))))))))))))))) UNION ALL (query_specification SELECT (select_list (select_element (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (keyw_id_part (func_keyw_id [ProductAssemblyID]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (keyw_id_part (func_keyw_id [ComponentID]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id p))) . (expression (keyw_id_part (func_keyw_id [Name]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (keyw_id_part (func_keyw_id [PerAssemblyQty]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id p))) . (expression (keyw_id_part (func_keyw_id [StandardCost]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id p))) . (expression (keyw_id_part (func_keyw_id [ListPrice]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (keyw_id_part (func_keyw_id [BOMLevel]))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id [RecursionLevel]))) + (expression (atoms 1))))) (from_clause FROM (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id [BOM_cte]))) (as_clause (func_keyw_id cte)))) (join_type_prefix INNER) JOIN (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id [Production])) . (keyw_id_part (func_keyw_id [BillOfMaterials]))) (as_clause (func_keyw_id b))))) (on_join ON (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (expression (keyw_id_part (func_keyw_id [ProductAssemblyID]))) = (expression (expression (keyw_id_part (func_keyw_id cte))) . (expression (keyw_id_part (func_keyw_id [ComponentID]))))))))) (join_type_prefix INNER) JOIN (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id [Production])) . (keyw_id_part (func_keyw_id [Product]))) (as_clause (func_keyw_id p))))) (on_join ON (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (expression (keyw_id_part (func_keyw_id [ComponentID]))) = (expression (expression (keyw_id_part (func_keyw_id p))) . (expression (keyw_id_part (func_keyw_id [ProductID]))))))))))))) (where_clause WHERE (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id @CheckDate))) >= (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (expression (keyw_id_part (func_keyw_id [StartDate]))) AND (expression (expression (keyw_id_part (func_keyw_id @CheckDate))) <= (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id ISNULL))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (expression (keyw_id_part (func_keyw_id b))) . (expression (keyw_id_part (func_keyw_id [EndDate]))))) , (param_list_el (expression (keyw_id_part (func_keyw_id @CheckDate)))))) )))))))))))))))) ))) (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (keyw_id_part (func_keyw_id [ProductAssemblyID])))) , (select_element (expression (keyw_id_part (func_keyw_id [ComponentID])))) , (select_element (expression (keyw_id_part (func_keyw_id [ComponentDesc])))) , (select_element (expression (keyw_id_part (func_keyw_id [PerAssemblyQty])))) , (select_element (expression (keyw_id_part (func_keyw_id [StandardCost])))) , (select_element (expression (keyw_id_part (func_keyw_id [ListPrice])))) , (select_element (expression (keyw_id_part (func_keyw_id [BOMLevel])))) , (select_element (expression (keyw_id_part (func_keyw_id [RecursionLevel])))))))))))) <EOF>)