(aaa_translation_unit (batch_statements (statements (sql_statements (use_statement USE (keyw_id (keyw_id_part (func_keyw_id AdventureWorks))) ;))) (statements GO) (statements (sql_statements (miscellaneous_statements (if_statement IF (search_condition NOT (search_condition (predicate EXISTS (paren_sub_query ( (sub_query (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (keyw_id_part (func_keyw_id (keywords name)))))) (from_clause FROM (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id (keywords sys))) . (keyw_id_part (func_keyw_id indexes))))))))) (where_clause WHERE (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id (keywords name)))) = (expression (atoms N'AK_BillOfMaterials_ProductAssemblyID_ComponentID_StartDate')))))))))) ))))) (statements (ddl_statements (create_statement CREATE (create_index UNIQUE CLUSTERED INDEX (keyw_id (keyw_id_part (func_keyw_id AK_BillOfMaterials_ProductAssemblyID_ComponentID_StartDate))) (ci_on ON (keyw_id (keyw_id_part (func_keyw_id Production)) . (keyw_id_part (func_keyw_id BillOfMaterials))) (col_list_paren ( (column_name (keyw_id (keyw_id_part (func_keyw_id ProductAssemblyID)))) , (column_name (keyw_id (keyw_id_part (func_keyw_id ComponentID)))) , (column_name (keyw_id (keyw_id_part (func_keyw_id StartDate)))) ))) (ci_on2 ON 'PRIMARY') ;)))))))) (statements GO) (statements (sql_statements (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (expression (keyw_id_part (func_keyw_id t))) . (expression (keyw_id_part (func_keyw_id (keywords name))))) (as_clause AS (func_keyw_id [Table Name]))) , (select_element (expression (expression (keyw_id_part (func_keyw_id i))) . (expression (keyw_id_part (func_keyw_id (keywords name))))) (as_clause AS (func_keyw_id [Index Name]))) , (select_element (expression (expression (keyw_id_part (func_keyw_id i))) . (expression (keyw_id_part (func_keyw_id type_desc))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id i))) . (expression (keyw_id_part (func_keyw_id data_space_id))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id f))) . (expression (keyw_id_part (func_keyw_id (keywords name))))) (as_clause AS (func_keyw_id [Filegroup Name])))) (from_clause FROM (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id (keywords sys))) . (keyw_id_part (func_keyw_id indexes))) (as_clause AS (func_keyw_id i)))) join_type_prefix JOIN (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id (keywords sys))) . (keyw_id_part (func_keyw_id filegroups))) (as_clause AS (func_keyw_id f))))) (on_join ON (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id i))) . (expression (expression (keyw_id_part (func_keyw_id data_space_id))) = (expression (expression (keyw_id_part (func_keyw_id f))) . (expression (keyw_id_part (func_keyw_id data_space_id))))))))) join_type_prefix JOIN (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id (keywords sys))) . (keyw_id_part (func_keyw_id tables))) (as_clause as (func_keyw_id t))))) (on_join ON (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id i))) . (expression (expression (keyw_id_part (func_keyw_id object_id))) = (expression (expression (keyw_id_part (func_keyw_id t))) . (expression (expression (keyw_id_part (func_keyw_id object_id))) AND (expression (expression (keyw_id_part (func_keyw_id i))) . (expression (expression (keyw_id_part (func_keyw_id object_id))) = (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id OBJECT_ID))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (atoms N'Production.BillOfMaterials'))) , (param_list_el (expression (atoms 'U'))))) ))))))))))))))))))))))) (statements GO) (statements (sql_statements (miscellaneous_statements (declare_statement DECLARE (declare_list (declare_list_item (keyw_id (keyw_id_part (func_keyw_id @data_path))) (declare_as opt_as (declare_as_opts (cr_type_data_type (cr_type_data (keyw_id (keyw_id_part (func_keyw_id nvarchar))) ( 256 ))))))) ;)))) (statements (sql_statements (miscellaneous_statements (set_statement SET (set_vars (set_var_list (keyw_id (keyw_id_part (func_keyw_id @data_path)))) = (expression (paren_sub_query ( (sub_query (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id SUBSTRING))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (keyw_id_part (func_keyw_id physical_name)))) , (param_list_el (expression (atoms 1))) , (param_list_el (expression (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id CHARINDEX))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (atoms N'master.mdf'))) , (param_list_el (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id LOWER))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (keyw_id_part (func_keyw_id physical_name)))))) )))))))) ))))) - (expression (atoms 1)))))) ))))))) (from_clause FROM (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id (keywords master))) . (keyw_id_part (func_keyw_id (keywords sys))) . (keyw_id_part (func_keyw_id master_files))))))))) (where_clause WHERE (search_condition (predicate (expression (expression (expression (keyw_id_part (func_keyw_id database_id))) = (expression (atoms 1))) AND (expression (expression (keyw_id_part (func_keyw_id file_id))) = (expression (atoms 1))))))))))) )))) ;)))) (statements (sql_statements (miscellaneous_statements (if_statement IF (search_condition NOT (search_condition (predicate EXISTS (paren_sub_query ( (sub_query (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (keyw_id_part (func_keyw_id (keywords name)))))) (from_clause FROM (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id (keywords sys))) . (keyw_id_part (func_keyw_id filegroups))))))))) (where_clause WHERE (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id (keywords name)))) = (expression (atoms N'NewGroup')))))))))) ))))) (statements (sql_statements (miscellaneous_statements (begin_statement BEGIN (statement_block (statements (ddl_statements (alter_statement ALTER (alter_database DATABASE (keyw_id (keyw_id_part (func_keyw_id AdventureWorks))) (ad_add_or_modify_filegroups ADD FILEGROUP (keyw_id (keyw_id_part (func_keyw_id NewGroup)))) ;)))) (statements (execute_statement (exec_one EXECUTE (exec_body (exec_sp (exec_string_cmd ( (exec_string_list (exec_string_bit 'ALTER DATABASE AdventureWorks\r\n\t\t\t\t\t\t        ADD FILE (NAME = File1,\r\n\t\t\t\t\t\t\t\t            FILENAME = ''') + (exec_string_bit (keyw_id (keyw_id_part (func_keyw_id @data_path)))) + (exec_string_bit 'File1.ndf'')\r\n\t\t\t\t\t\t\t\t        TO FILEGROUP NewGroup')) ))) ;))) (first_exec (exec_sp (exec_sp_func (keyw_id (keyw_id_part (func_keyw_id (keywords END)))))))) (statements GO) (statements (sql_statements (select_statement (query_expression (query_specification SELECT (select_list (select_element *)) (from_clause from (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id (keywords sys))) . (keyw_id_part (func_keyw_id filegroups))))))))))) ;))) (statements GO) (statements (ddl_statements (drop_statement DROP (dropIndex INDEX (dropIndexOnWith (keyw_id (keyw_id_part (func_keyw_id AK_BillOfMaterials_ProductAssemblyID_ComponentID_StartDate))) ON (keyw_id (keyw_id_part (func_keyw_id Production)) . (keyw_id_part (func_keyw_id BillOfMaterials))) (dropIndexWith WITH ( (dropClusteredIndexOptionList (dropClusteredIndexOption ONLINE = ON) , (dropClusteredIndexOption MOVE TO (keyw_id (keyw_id_part (func_keyw_id NewGroup))))) ))) ;)))) (statements GO) (statements (sql_statements (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (expression (keyw_id_part (func_keyw_id t))) . (expression (keyw_id_part (func_keyw_id (keywords name))))) (as_clause AS (func_keyw_id [Table Name]))) , (select_element (expression (expression (keyw_id_part (func_keyw_id i))) . (expression (keyw_id_part (func_keyw_id (keywords name))))) (as_clause AS (func_keyw_id [Index Name]))) , (select_element (expression (expression (keyw_id_part (func_keyw_id i))) . (expression (keyw_id_part (func_keyw_id type_desc))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id i))) . (expression (keyw_id_part (func_keyw_id data_space_id))))) , (select_element (expression (expression (keyw_id_part (func_keyw_id f))) . (expression (keyw_id_part (func_keyw_id (keywords name))))) (as_clause AS (func_keyw_id [Filegroup Name])))) (from_clause FROM (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id (keywords sys))) . (keyw_id_part (func_keyw_id indexes))) (as_clause AS (func_keyw_id i)))) join_type_prefix JOIN (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id (keywords sys))) . (keyw_id_part (func_keyw_id filegroups))) (as_clause AS (func_keyw_id f))))) (on_join ON (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id i))) . (expression (expression (keyw_id_part (func_keyw_id data_space_id))) = (expression (expression (keyw_id_part (func_keyw_id f))) . (expression (keyw_id_part (func_keyw_id data_space_id))))))))) join_type_prefix JOIN (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id (keywords sys))) . (keyw_id_part (func_keyw_id tables))) (as_clause as (func_keyw_id t))))) (on_join ON (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id i))) . (expression (expression (keyw_id_part (func_keyw_id object_id))) = (expression (expression (keyw_id_part (func_keyw_id t))) . (expression (expression (keyw_id_part (func_keyw_id object_id))) AND (expression (expression (keyw_id_part (func_keyw_id i))) . (expression (expression (keyw_id_part (func_keyw_id object_id))) = (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id OBJECT_ID))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (atoms N'Production.BillOfMaterials'))) , (param_list_el (expression (atoms 'U'))))) )))))))))))))))))))) ;))) (statements GO)) <missing 'END'>))))))))) <EOF>)