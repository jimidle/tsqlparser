(aaa_translation_unit (batch_statements (statements (sql_statements (use_statement USE (keyw_id (keyw_id_part (func_keyw_id AdventureWorks))) ;))) (statements GO) (statements (sql_statements (miscellaneous_statements (set_statement SET (set_vars (set_var_list (keyw_id (keyw_id_part (func_keyw_id XACT_ABORT)))) ON) ;)))) (statements (sql_statements (miscellaneous_statements (begin_statement BEGIN TRY (statement_block (statements (sql_statements (miscellaneous_statements (begin_statement BEGIN TRANSACTION ;)))) (statements (sql_statements (miscellaneous_statements (delete_statement DELETE (delete_from_clause (opt_from FROM) (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id Production)) . (keyw_id_part (func_keyw_id Product)))))) (delete_where_clause WHERE (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id ProductID))) = (expression (atoms 980)))))) ;)))) (statements (sql_statements (miscellaneous_statements (commit_statement COMMIT TRANSACTION ;))))) END TRY)))) (statements (sql_statements (miscellaneous_statements (begin_statement BEGIN CATCH (statement_block (statements (sql_statements (miscellaneous_statements (if_statement IF (search_condition (predicate (expression (expression ( (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id XACT_STATE))))) (function_args ( ))))) )) = (expression - (expression (atoms 1)))))) (statements (sql_statements (miscellaneous_statements (begin_statement BEGIN (statement_block (statements (sql_statements (miscellaneous_statements (print_statement PRINT (expression (expression (atoms 'The transaction is in an uncommittable state.')) + (expression (atoms ' Rolling back transaction.'))))))) (statements (sql_statements (miscellaneous_statements (rollbacksave_statement ROLLBACK TRANSACTION ;))))) END ;)))))))) (statements (sql_statements (miscellaneous_statements (if_statement IF (search_condition (predicate (expression (expression ( (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id XACT_STATE))))) (function_args ( ))))) )) = (expression (atoms 1))))) (statements (sql_statements (miscellaneous_statements (begin_statement BEGIN (statement_block (statements (sql_statements (miscellaneous_statements (print_statement PRINT (expression (expression (atoms 'The transaction is committable.')) + (expression (atoms ' Committing transaction.'))))))) (statements (sql_statements (miscellaneous_statements (commit_statement COMMIT TRANSACTION ;))))) END ;))))))))) END CATCH ;)))) (statements GO)) <EOF>)