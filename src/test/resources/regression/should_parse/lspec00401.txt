(aaa_translation_unit (batch_statements (statements (sql_statements (use_statement USE (keyw_id (keyw_id_part (func_keyw_id AdventureWorks))) ;))) (statements GO) (statements (sql_statements (miscellaneous_statements (if_statement IF (search_condition (predicate (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id OBJECT_ID))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (atoms N'dbo.ISOweek'))) , (param_list_el (expression (atoms N'FN'))))) ))))) IS NOT NULL)) (statements (ddl_statements (drop_statement DROP (dropCommonList (dropListElements FUNCTION) (keyw_id_list (keyw_id (keyw_id_part (func_keyw_id dbo)) . (keyw_id_part (func_keyw_id ISOweek)))) ;)))))))) (statements GO) (statements (ddl_statements (create_statement CREATE (create_function (alter_function FUNCTION (keyw_id (keyw_id_part (func_keyw_id dbo)) . (keyw_id_part (func_keyw_id ISOweek))) (alter_function_params ( (function_parameter_spec (keyw_id (keyw_id_part (func_keyw_id @DATE))) (data_type (data_type_el (keyw_id (keyw_id_part (func_keyw_id datetime)))))) )) (alter_function_returns RETURNS (data_type (data_type_el (keyw_id (keyw_id_part (func_keyw_id int))))) (afr_with WITH (function_option (execute_as_clause EXECUTE AS CALLER))) (afr_as AS (function_body (statements (sql_statements (miscellaneous_statements (begin_statement BEGIN (statement_block (statements (sql_statements (miscellaneous_statements (declare_statement DECLARE (declare_list (declare_list_item (keyw_id (keyw_id_part (func_keyw_id @ISOweek))) (declare_as opt_as (declare_as_opts (cr_type_data_type (cr_type_data (keyw_id (keyw_id_part (func_keyw_id int))))))))))))) (statements (sql_statements (miscellaneous_statements (set_statement SET (set_vars (set_var_list (keyw_id (keyw_id_part (func_keyw_id @ISOweek)))) = (expression (expression (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id DATEPART))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (keyw_id_part (func_keyw_id wk)))) , (param_list_el (expression (keyw_id_part (func_keyw_id @DATE)))))) ))))) + (expression (atoms 1))) - (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id DATEPART))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (keyw_id_part (func_keyw_id wk)))) , (param_list_el (expression (expression (functions_and_vars (function CAST ( (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id DATEPART))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (keyw_id_part (func_keyw_id yy)))) , (param_list_el (expression (keyw_id_part (func_keyw_id @DATE)))))) ))))) as (data_type (data_type_el (keyw_id (keyw_id_part (func_keyw_id CHAR))) ( 4 ))) )))) + (expression (atoms '0104')))))) ))))))))))) (statements (sql_statements (miscellaneous_statements (if_statement IF (search_condition (predicate (expression ( (expression (expression (keyw_id_part (func_keyw_id @ISOweek))) = (expression (atoms 0))) )))) (statements (sql_statements (miscellaneous_statements (set_statement SET (set_vars (set_var_list (keyw_id (keyw_id_part (func_keyw_id @ISOweek)))) = (expression (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id dbo))) . (keyw_id_part (func_keyw_id ISOweek)))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (expression (expression (functions_and_vars (function CAST ( (expression (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id DATEPART))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (keyw_id_part (func_keyw_id yy)))) , (param_list_el (expression (keyw_id_part (func_keyw_id @DATE)))))) ))))) - (expression (atoms 1))) AS (data_type (data_type_el (keyw_id (keyw_id_part (func_keyw_id CHAR))) ( 4 ))) )))) + (expression (atoms '12'))) + (expression (functions_and_vars (function CAST ( (expression (expression (atoms 24)) + (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id DATEPART))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (keyw_id_part (func_keyw_id DAY)))) , (param_list_el (expression (keyw_id_part (func_keyw_id @DATE)))))) )))))) AS (data_type (data_type_el (keyw_id (keyw_id_part (func_keyw_id CHAR))) ( 2 ))) )))))))) ))))) + (expression (atoms 1)))))))))))) (statements (sql_statements (miscellaneous_statements (if_statement IF (search_condition (predicate (expression ( (expression (expression ( (expression (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id DATEPART))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (keyw_id_part (func_keyw_id mm)))) , (param_list_el (expression (keyw_id_part (func_keyw_id @DATE)))))) ))))) = (expression (atoms 12))) )) AND (expression ( (expression (expression ( (expression (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id DATEPART))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (keyw_id_part (func_keyw_id dd)))) , (param_list_el (expression (keyw_id_part (func_keyw_id @DATE)))))) ))))) - (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id DATEPART))))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (keyw_id_part (func_keyw_id dw)))) , (param_list_el (expression (keyw_id_part (func_keyw_id @DATE)))))) )))))) )) >= (expression (atoms 28))) ))) )))) (statements (sql_statements (miscellaneous_statements (set_statement SET (set_vars (set_var_list (keyw_id (keyw_id_part (func_keyw_id @ISOweek)))) = (expression (atoms 1))))))))))) (statements (sql_statements (miscellaneous_statements (return_statement (common_return RETURN (expression ( (expression (keyw_id_part (func_keyw_id @ISOweek))) )))))))) END ;)))))))))))) (statements GO) (statements (sql_statements (miscellaneous_statements (set_statement SET (set_vars (set_var_list (keyw_id (keyw_id_part (func_keyw_id DATEFIRST)))) (expression (atoms 1))) ;)))) (statements (sql_statements (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id dbo))) . (keyw_id_part (func_keyw_id ISOweek)))) (function_args ( (param_list_or_all (param_list (param_list_el (expression (functions_and_vars (function CONVERT ( (data_type (data_type_el (keyw_id (keyw_id_part (func_keyw_id DATETIME))))) , (expression (atoms '12/26/2004')) , (expression (atoms 101)) ))))))) ))))) (as_clause AS 'ISO Week'))))) ;)))) <EOF>)