(aaa_translation_unit (batch_statements (statements (sql_statements (use_statement USE (keyw_id (keyw_id_part (func_keyw_id AdventureWorks))) ;))) (statements GO) (statements (ddl_statements (create_statement CREATE (create_login LOGIN (keyw_id (keyw_id_part (func_keyw_id login1))) (cl_from_with WITH (cl_option_list PASSWORD = 'J345#$)thb')) ;)))) (statements (ddl_statements (create_statement CREATE (create_login LOGIN (keyw_id (keyw_id_part (func_keyw_id login2))) (cl_from_with WITH (cl_option_list PASSWORD = 'Uor80$23b')) ;)))) (statements GO) (statements (ddl_statements (create_statement CREATE (create_user USER (keyw_id (keyw_id_part (func_keyw_id user1))) (cr_user_for_from FOR (cr_user_credentials LOGIN (keyw_id (keyw_id_part (func_keyw_id login1))))) ;)))) (statements (ddl_statements (create_statement CREATE (create_user USER (keyw_id (keyw_id_part (func_keyw_id user2))) (cr_user_for_from FOR (cr_user_credentials LOGIN (keyw_id (keyw_id_part (func_keyw_id login2))))) ;)))) (statements GO) (statements (ddl_statements (permissions_ddl (grant_statement GRANT (permission_set (permission_set_element (permission_name (permission_spec IMPERSONATE)))) (permission_on ON (permission_object USER) : : (keyw_id (keyw_id_part (func_keyw_id user2)))) (permission_to TO (keyw_id_list (keyw_id (keyw_id_part (func_keyw_id user1))))) ;)))) (statements GO) (statements (sql_statements (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id SUSER_NAME))))) (function_args ( )))))) , (select_element (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id USER_NAME))))) (function_args ( ))))))))) ;))) (statements (execute_statement (exec_one EXECUTE (exec_body (exec_as AS (exec_context LOGIN = 'login1')) ;)))) (statements (sql_statements (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id SUSER_NAME))))) (function_args ( )))))) , (select_element (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id USER_NAME))))) (function_args ( ))))))))) ;))) (statements (execute_statement (exec_one EXECUTE (exec_body (exec_as AS (exec_context USER = 'user2')) ;)))) (statements (sql_statements (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id SUSER_NAME))))) (function_args ( )))))) , (select_element (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id USER_NAME))))) (function_args ( ))))))))) ;))) (statements (sql_statements (miscellaneous_statements (revert_statement REVERT ;)))) (statements (sql_statements (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id SUSER_NAME))))) (function_args ( )))))) , (select_element (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id USER_NAME))))) (function_args ( ))))))))) ;))) (statements (sql_statements (miscellaneous_statements (revert_statement REVERT ;)))) (statements (sql_statements (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id SUSER_NAME))))) (function_args ( )))))) , (select_element (expression (functions_and_vars (function (func_name (keyw_id_for_func (keyw_id_orcc (keyw_id_part (func_keyw_id USER_NAME))))) (function_args ( ))))))))) ;))) (statements (ddl_statements (drop_statement DROP (dropCommon (dropElements LOGIN) (keyw_id (keyw_id_part (func_keyw_id login1))) ;)))) (statements (ddl_statements (drop_statement DROP (dropCommon (dropElements LOGIN) (keyw_id (keyw_id_part (func_keyw_id login2))) ;)))) (statements (ddl_statements (drop_statement DROP (dropCommon (dropElements USER) (keyw_id (keyw_id_part (func_keyw_id user1))) ;)))) (statements (ddl_statements (drop_statement DROP (dropCommon (dropElements USER) (keyw_id (keyw_id_part (func_keyw_id user2))) ;)))) (statements GO)) <EOF>)