(aaa_translation_unit (batch_statements (first_exec (exec_sp (exec_sp_func (keyw_id (keyw_id_part (func_keyw_id (keywords END)))) (exec_sp_param_list (exec_sp_param (expression (keyw_id_part (func_keyw_id (keywords CONVERSATION))))))))) (first_exec (exec_sp (exec_sp_func (keyw_id (keyw_id_part (func_keyw_id @dialog_handle))))) ;) (statements (sql_statements (miscellaneous_statements (declare_statement DECLARE (declare_list (declare_list_item (keyw_id (keyw_id_part (func_keyw_id @dialog_handle))) (declare_as opt_as (declare_as_opts (cr_type_data_type (cr_type_data (keyw_id (keyw_id_part (func_keyw_id UNIQUEIDENTIFIER)))))))) , (declare_list_item (keyw_id (keyw_id_part (func_keyw_id @ErrorSave))) (declare_as opt_as (declare_as_opts (cr_type_data_type (cr_type_data (keyw_id (keyw_id_part (func_keyw_id INT)))))))) , (declare_list_item (keyw_id (keyw_id_part (func_keyw_id @ErrorDesc))) (declare_as opt_as (declare_as_opts (cr_type_data_type (cr_type_data (keyw_id (keyw_id_part (func_keyw_id NVARCHAR))) ( 100 ))))))) ;)))) (statements (sql_statements (miscellaneous_statements (begin_statement BEGIN TRANSACTION ;)))) (statements (sql_statements (miscellaneous_statements (set_statement SET (set_vars (set_var_list (keyw_id (keyw_id_part (func_keyw_id @ErrorSave)))) = (expression (keyw_id_part (func_keyw_id @@ERROR)))) ;)))) (statements (sql_statements (miscellaneous_statements (if_statement IF (search_condition (predicate (expression ( (expression (expression (keyw_id_part (func_keyw_id @ErrorSave))) <> (expression (atoms 0))) )))) (statements (sql_statements (miscellaneous_statements (begin_statement BEGIN (statement_block (statements (sql_statements (miscellaneous_statements (rollbacksave_statement ROLLBACK TRANSACTION ;)))) (statements (sql_statements (miscellaneous_statements (set_statement SET (set_vars (set_var_list (keyw_id (keyw_id_part (func_keyw_id @ErrorDesc)))) = (expression (atoms N'An error has occurred.'))) ;)))) (statements (sql_statements (miscellaneous_statements (end_conversation END CONVERSATION (keyw_id (keyw_id_part (func_keyw_id @dialog_handle))) (ecWithClause WITH ERROR = (keyw_id (keyw_id_part (func_keyw_id @ErrorSave))) DESCRIPTION = (keyw_id (keyw_id_part (func_keyw_id @ErrorDesc)))) ;))))) END)))) (if_else ELSE (statements (sql_statements (miscellaneous_statements (commit_statement COMMIT TRANSACTION ;))))))))) (statements (sql_statements (miscellaneous_statements (end_conversation END CONVERSATION (keyw_id (keyw_id_part (func_keyw_id @dialog_handle))) (ecWithClause WITH CLEANUP) ;))))) <EOF>)