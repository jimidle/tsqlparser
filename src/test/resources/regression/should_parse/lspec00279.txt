(aaa_translation_unit (batch_statements (statements (sql_statements (use_statement USE (keyw_id (keyw_id_part (func_keyw_id AdventureWorks))) ;))) (statements GO (first_exec (exec_sp (exec_sp_func (keyw_id (keyw_id_part (func_keyw_id (keywords BEGIN)))) (exec_sp_param_list (exec_sp_param (expression (keyw_id_part (func_keyw_id (keywords TRANSACTION)))))))) ;)) (statements GO) (statements (sql_statements (miscellaneous_statements (if_statement IF (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id @@TRANCOUNT))) = (expression (atoms 0))))) (statements (sql_statements (miscellaneous_statements (begin_statement BEGIN (statement_block (statements (sql_statements (select_statement (query_expression (query_specification SELECT (select_list (select_element *)) (from_clause from (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id Person)) . (keyw_id_part (func_keyw_id Contact))))))))) (where_clause WHERE (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id LastName))) = (expression (atoms 'ADAMS')))))))) ;))) (statements (sql_statements (miscellaneous_statements (rollbacksave_statement ROLLBACK TRANSACTION)))) (statements (sql_statements (miscellaneous_statements (print_statement PRINT (expression (atoms N'Rolling back the transaction two times would cause an error.'))))))) END)))))))) (statements (sql_statements (miscellaneous_statements (rollbacksave_statement ROLLBACK TRANSACTION)))) (statements (sql_statements (miscellaneous_statements (print_statement PRINT (expression (atoms N'Rolled back the transaction.')))))) (statements GO)) <EOF>)