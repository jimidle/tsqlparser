USE AdventureWorks;
GO
IF OBJECT_ID('dbo.TimeDelay_hh_mm_ss','P') IS NOT NULL
	    DROP PROCEDURE dbo.TimeDelay_hh_mm_ss;
	GO
	CREATE PROCEDURE dbo.TimeDelay_hh_mm_ss 
	    (
		    @DelayLength char(8)= '00:00:00'
		    )
		AS
		DECLARE @ReturnInfo varchar(255)
		IF ISDATE('2000-01-01 ' + @DelayLength + '.000') = 0
			    BEGIN
				        SELECT @ReturnInfo = 'Invalid time ' + @DelayLength 
					        + ',hh:mm:ss, submitted.';
						        -- This PRINT statement is for testing, not use in production.
        PRINT @ReturnInfo 
	        RETURN(1)
		    END
		BEGIN
			    WAITFOR DELAY @DelayLength
			    SELECT @ReturnInfo = 'A total time of ' + @DelayLength + ', 
			        hh:mm:ss, has elapsed! Your time is up.'
				    -- This PRINT statement is for testing, not use in production.
    PRINT @ReturnInfo;
END;
GO
/* This statement executes the dbo.TimeDelay_hh_mm_ss procedure. */
EXEC TimeDelay_hh_mm_ss '00:00:10';
GO
