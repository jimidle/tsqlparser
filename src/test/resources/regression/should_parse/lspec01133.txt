(aaa_translation_unit (batch_statements (statements (sql_statements (use_statement USE (keyw_id (keyw_id_part (func_keyw_id AdventureWorks2008R2))) ;))) (statements GO) (statements (ddl_statements (create_statement CREATE (create_procedure PROCEDURE (keyw_id (keyw_id_part (func_keyw_id dbo)) . (keyw_id_part (func_keyw_id InsertUnitMeasure))) (procedure_param_list (procedure_param_list_body (procedure_param (keyw_id_part (func_keyw_id @UnitMeasureCode)) (ct_data_type (ct_data (keyw_id (keyw_id_part (func_keyw_id nchar))) ( 3 )))) , (procedure_param (keyw_id_part (func_keyw_id @Name)) (ct_data_type (ct_data (keyw_id (keyw_id_part (func_keyw_id nvarchar))) ( 25 )))))) (cproc_as AS (unblocked_statements (begin_statement BEGIN (statement_block (statements (sql_statements (miscellaneous_statements (set_statement SET (set_vars (set_var_list (keyw_id (keyw_id_part (func_keyw_id NOCOUNT)))) ON) ;)))) (statements (sql_statements (miscellaneous_statements (update_statement UPDATE (update_table (insert_into is_opt_into (keyw_id (keyw_id_part (func_keyw_id Production)) . (keyw_id_part (func_keyw_id UnitMeasure)))) (update_set SET (update_set_list (update_element (keyw_id (keyw_id_part (func_keyw_id (keywords Name)))) = (expression (keyw_id_part (func_keyw_id @Name)))))) (delete_where_clause WHERE (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id UnitMeasureCode))) = (expression (keyw_id_part (func_keyw_id @UnitMeasureCode)))))))))))) (statements (sql_statements (miscellaneous_statements (if_statement IF (search_condition (predicate (expression ( (expression (expression (keyw_id_part (func_keyw_id @@ROWCOUNT))) = (expression (atoms 0))) )))) (statements (sql_statements (miscellaneous_statements (begin_statement BEGIN (statement_block (statements (sql_statements (miscellaneous_statements (insert_statement INSERT (insert_into (is_opt_into INTO) (keyw_id (keyw_id_part (func_keyw_id Production)) . (keyw_id_part (func_keyw_id UnitMeasure)))) (insert_update_target ( (keyw_id_list (keyw_id (keyw_id_part (func_keyw_id UnitMeasureCode))) , (keyw_id (keyw_id_part (func_keyw_id (keywords Name))))) ) (insert_update_target_tbl (insert_update_target_values VALUES (values_list_list ( (iut_values_list (iut_value (expression (keyw_id_part (func_keyw_id @UnitMeasureCode)))) , (iut_value (expression (keyw_id_part (func_keyw_id @Name))))) )))))))))) END))))))))) END ;))))))) (statements GO) (statements (execute_statement (exec_one EXEC (exec_body (exec_sp (exec_sp_func (keyw_id (keyw_id_part (func_keyw_id InsertUnitMeasure))) (exec_sp_param_list (exec_sp_param (keyw_id (keyw_id_part (func_keyw_id @UnitMeasureCode))) = (expression (atoms 'ABC'))) , (exec_sp_param (keyw_id (keyw_id_part (func_keyw_id @Name))) = (expression (atoms 'Test Value')))))) ;)))) (statements (sql_statements (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (keyw_id_part (func_keyw_id UnitMeasureCode)))) , (select_element (expression (keyw_id_part (func_keyw_id (keywords Name)))))) (from_clause FROM (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id Production)) . (keyw_id_part (func_keyw_id UnitMeasure))))))))) (where_clause WHERE (search_condition (predicate (expression (expression (keyw_id_part (func_keyw_id UnitMeasureCode))) = (expression (atoms 'ABC')))))))) ;))) (statements GO) (statements (ddl_statements (create_statement CREATE (create_table TABLE (keyw_id (keyw_id_part (func_keyw_id #MyTempTable))) ( (ct_col_def_list (ct_col_def_list_element (ct_column_def_plus (ct_column_definition (keyw_id (keyw_id_part (func_keyw_id ExistingCode))) (ct_data_type (ct_data (keyw_id (keyw_id_part (func_keyw_id nchar))) ( 3 )))))) , (ct_col_def_list_element (ct_column_def_plus (ct_column_definition (keyw_id (keyw_id_part (func_keyw_id ExistingName))) (ct_data_type (ct_data (keyw_id (keyw_id_part (func_keyw_id nvarchar))) ( 50 )))))) , (ct_col_def_list_element (ct_column_def_plus (ct_column_definition (keyw_id (keyw_id_part (func_keyw_id ExistingDate))) (ct_data_type (ct_data (keyw_id (keyw_id_part (func_keyw_id datetime)))))))) , (ct_col_def_list_element (ct_column_def_plus (ct_column_definition (keyw_id (keyw_id_part (func_keyw_id ActionTaken))) (ct_data_type (ct_data (keyw_id (keyw_id_part (func_keyw_id nvarchar))) ( 10 )))))) , (ct_col_def_list_element (ct_column_def_plus (ct_column_definition (keyw_id (keyw_id_part (func_keyw_id NewCode))) (ct_data_type (ct_data (keyw_id (keyw_id_part (func_keyw_id nchar))) ( 3 )))))) , (ct_col_def_list_element (ct_column_def_plus (ct_column_definition (keyw_id (keyw_id_part (func_keyw_id (keywords NewName)))) (ct_data_type (ct_data (keyw_id (keyw_id_part (func_keyw_id nvarchar))) ( 50 )))))) , (ct_col_def_list_element (ct_column_def_plus (ct_column_definition (keyw_id (keyw_id_part (func_keyw_id NewDate))) (ct_data_type (ct_data (keyw_id (keyw_id_part (func_keyw_id datetime))))))))) ) ;)))) (statements GO) (statements (ddl_statements (alter_statement ALTER (alter_procedure PROCEDURE (keyw_id (keyw_id_part (func_keyw_id dbo)) . (keyw_id_part (func_keyw_id InsertUnitMeasure))) (procedure_param_list (procedure_param_list_body (procedure_param (keyw_id_part (func_keyw_id @UnitMeasureCode)) (ct_data_type (ct_data (keyw_id (keyw_id_part (func_keyw_id nchar))) ( 3 )))) , (procedure_param (keyw_id_part (func_keyw_id @Name)) (ct_data_type (ct_data (keyw_id (keyw_id_part (func_keyw_id nvarchar))) ( 25 )))))) (alter_procedure_as AS (unblocked_statements (begin_statement BEGIN (statement_block (statements (sql_statements (miscellaneous_statements (set_statement SET (set_vars (set_var_list (keyw_id (keyw_id_part (func_keyw_id NOCOUNT)))) ON) ;)))) (statements (sql_statements (miscellaneous_statements (merge_statement MERGE (merge_into is_opt_into (keyw_id (keyw_id_part (func_keyw_id Production)) . (keyw_id_part (func_keyw_id UnitMeasure))) (as_clause AS (func_keyw_id (keywords target)))) USING (table_source (tableSourceElement (table_source_primitive (primitive_table ( (derivable_table (select_statement (query_expression (query_specification SELECT (select_list (select_element (expression (keyw_id_part (func_keyw_id @UnitMeasureCode)))) , (select_element (expression (keyw_id_part (func_keyw_id @Name))))))))) ) (as_clause AS (func_keyw_id (keywords source))) (column_aliases ( (func_keyw_id UnitMeasureCode) , (func_keyw_id (keywords Name)) )))))) (merge_on ON (search_condition (predicate (expression ( (expression (expression (keyw_id_part (func_keyw_id (keywords target)))) . (expression (expression (keyw_id_part (func_keyw_id UnitMeasureCode))) = (expression (expression (keyw_id_part (func_keyw_id (keywords source)))) . (expression (keyw_id_part (func_keyw_id UnitMeasureCode)))))) )))) (merge_matches (when_clauses WHEN MATCHED THEN (merge_matched UPDATE (merge_set_clause SET (merge_set_list (set_vars (set_var_list (keyw_id (keyw_id_part (func_keyw_id (keywords Name))))) = (expression (expression (keyw_id_part (func_keyw_id (keywords source)))) . (expression (keyw_id_part (func_keyw_id (keywords Name)))))))))) (when_clauses WHEN NOT MATCHED THEN (merge_not_matched INSERT ( (keyw_id_list (keyw_id (keyw_id_part (func_keyw_id UnitMeasureCode))) , (keyw_id (keyw_id_part (func_keyw_id (keywords Name))))) ) (insert_update_target_values VALUES (values_list_list ( (iut_values_list (iut_value (expression (expression (keyw_id_part (func_keyw_id (keywords source)))) . (expression (keyw_id_part (func_keyw_id UnitMeasureCode))))) , (iut_value (expression (expression (keyw_id_part (func_keyw_id (keywords source)))) . (expression (keyw_id_part (func_keyw_id (keywords Name))))))) ))))))) (output_clause (output_dml OUTPUT (dml_select_list (dml_select (del_col_name (expression (keyw_id_part (func_keyw_id deleted))) . *)) , (dml_select (del_col_name $action)) , (dml_select (del_col_name (expression (keyw_id_part (func_keyw_id inserted))) . *)))) INTO (keyw_id (keyw_id_part (func_keyw_id #MyTempTable)))) ;))))) END ;))))))) (statements GO) (statements (execute_statement (exec_one EXEC (exec_body (exec_sp (exec_sp_func (keyw_id (keyw_id_part (func_keyw_id InsertUnitMeasure))) (exec_sp_param_list (exec_sp_param (keyw_id (keyw_id_part (func_keyw_id @UnitMeasureCode))) = (expression (atoms 'ABC'))) , (exec_sp_param (keyw_id (keyw_id_part (func_keyw_id @Name))) = (expression (atoms 'New Test Value')))))) ;)))) (statements (execute_statement (exec_one EXEC (exec_body (exec_sp (exec_sp_func (keyw_id (keyw_id_part (func_keyw_id InsertUnitMeasure))) (exec_sp_param_list (exec_sp_param (keyw_id (keyw_id_part (func_keyw_id @UnitMeasureCode))) = (expression (atoms 'XYZ'))) , (exec_sp_param (keyw_id (keyw_id_part (func_keyw_id @Name))) = (expression (atoms 'Test Value')))))) ;)))) (statements (execute_statement (exec_one EXEC (exec_body (exec_sp (exec_sp_func (keyw_id (keyw_id_part (func_keyw_id InsertUnitMeasure))) (exec_sp_param_list (exec_sp_param (keyw_id (keyw_id_part (func_keyw_id @UnitMeasureCode))) = (expression (atoms 'ABC'))) , (exec_sp_param (keyw_id (keyw_id_part (func_keyw_id @Name))) = (expression (atoms 'Another Test Value')))))) ;)))) (statements (sql_statements (select_statement (query_expression (query_specification SELECT (select_list (select_element *)) (from_clause FROM (table_source_list (table_source (tableSourceElement (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id #MyTempTable))))))))))) ;))) (statements (sql_statements (miscellaneous_statements (delete_statement DELETE (delete_from_clause (opt_from FROM) (table_source_primitive (primitive_table (keyw_id (keyw_id_part (func_keyw_id Production)) . (keyw_id_part (func_keyw_id UnitMeasure)))))) (delete_where_clause WHERE (search_condition (predicate (expression (keyw_id_part (func_keyw_id UnitMeasureCode))) IN ( (expression_list (expression (atoms 'ABC')) , (expression (atoms 'XYZ'))) )))) ;)))) (statements (ddl_statements (drop_statement DROP (dropCommonList (dropListElements TABLE) (keyw_id_list (keyw_id (keyw_id_part (func_keyw_id #MyTempTable)))) ;)))) (statements GO)) <EOF>)